!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.RBTree=e():t.RBTree=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";var n=r(1),i=function(t){return t&&t.__esModule?t:{default:t}}(n);t.exports=i.default},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=Array.prototype.slice.call(arguments);return t.apply(this,e.concat(r))}}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),l=function(){function t(e){n(this,t),this.comparator=e||function(t,e){return t<e?-1:t>e?1:0},this._nil={left:null,parent:null,red:!1,right:null,value:null},this._root=this._nil,this.length=0}return a(t,[{key:"minimum",value:function(t){var e=this._minimum(this._root);if(void 0===t)return e===this._nil?null:e.value;var r=[];for(t=Math.abs(parseInt(t,10));e!==this._nil&&t;)r.push(e.value),e=this._successor(e),t--;return r}},{key:"_minimum",value:function(t){for(;t.left!==this._nil;)t=t.left;return t}},{key:"maximum",value:function(t){var e=this._maximum(this._root);if(void 0===t)return e===this._nil?null:e.value;var r=[];for(t=Math.abs(parseInt(t,10));e!==this._nil&&t;)r.push(e.value),e=this._predecessor(e),t--;return r}},{key:"_maximum",value:function(t){for(;t.right!==this._nil;)t=t.right;return t}},{key:"insert",value:function(t){for(var e=this._root,r=this._nil,n={left:this._nil,parent:this._nil,red:!0,right:this._nil,value:t};e!==this._nil;){var i=this.comparator(t,e.value);if(r=e,i<0)e=e.left;else{if(!(i>0))return;e=e.right}}n.parent=r,r===this._nil?this._root=n:this.comparator(n.value,r.value)<0?r.left=n:r.right=n,this.length++,this._insertFixup(n)}},{key:"_insertFixup",value:function(t){for(;t.parent.red;)if(t.parent===t.parent.parent.left){var e=t.parent.parent.right;e.red?(e.red=!1,t.parent.red=!1,t.parent.parent.red=!0,t=t.parent.parent):(t===t.parent.right&&(t=t.parent,this._leftRotate(t)),t.parent.red=!1,t.parent.parent.red=!0,this._rightRotate(t.parent.parent))}else{var r=t.parent.parent.left;r.red?(r.red=!1,t.parent.red=!1,t.parent.parent.red=!0,t=t.parent.parent):(t===t.parent.right&&(t=t.parent,this._rightRotate(t)),t.parent.red=!1,t.parent.parent.red=!0,this._leftRotate(t.parent.parent))}this._root.red=!1}},{key:"_leftRotate",value:function(t){var e=t.right;t.right=e.left,e.left!==this._nil&&(e.left.parent=t),e.parent=t.parent,t.parent===this._nil?this._root=e:t===t.parent.left?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},{key:"_rightRotate",value:function(t){var e=t.left;t.left=e.right,e.right!==this._nil&&(e.right.parent=t),e.parent=t.parent,t.parent===this._nil?this._root=e:t===t.parent.right?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},{key:"delete",value:function(t){var e=this._find(this._root,t);if(e!==this._nil){var r=e.red,n=null;if(e.left===this._nil)n=e.right,this._transplant(e,e.right);else if(e.right===this._nil)n=e.left,this._transplant(e,e.left);else{var i=this._minimum(e.right);r=i.red,n=i.right,i.parent===e?n.parent=i:(this._transplant(i,i.right),i.right=e.right,i.right.parent=i),this._transplant(e,i),i.left=e.left,i.left.parent=i,i.red=e.red}this.length--,r||this._deleteFixup(n)}}},{key:"_find",value:function(t,e){for(var r=void 0;r=t===this._nil?0:this.comparator(e,t.value);)t=r<0?t.left:t.right;return t}},{key:"_transplant",value:function(t,e){t.parent===this._nil?this._root=e:t===t.parent.left?t.parent.left=e:t.parent.right=e,e.parent=t.parent}},{key:"_deleteFixup",value:function(t){for(;t!==this._root&&!t.red;)if(t===t.parent.left){var e=t.parent.right;e.red&&(e.red=!1,t.parent.red=!0,this._leftRotate(t.parent),e=t.parent.right),e.left.red||e.right.red?(e.right.red||(e.left.red=!1,e.red=!0,this._rightRotate(e),e=t.parent.right),e.red=t.parent.red,t.parent.red=!1,e.right.red=!1,this._leftRotate(t.parent),t=this._root):(e.red=!0,t=t.parent)}else{var r=t.parent.left;r.red&&(r.red=!1,t.parent.red=!0,this._rightRotate(t.parent),r=t.parent.left),r.left.red||r.right.red?(r.left.red||(r.right.red=!1,r.red=!0,this._leftRotate(r),r=t.parent.left),r.red=t.parent.red,t.parent.red=!1,r.left.red=!1,this._rightRotate(t.parent),t=this._root):(r.red=!0,t=t.parent)}t.red=!1}},{key:"contains",value:function(t){return this._find(this._root,t)!==this._nil}},{key:"values",value:function(){for(var t=[],e=this._minimum(this._root);e!==this._nil;)t.push(e.value),e=this._successor(e);return t}},{key:"_successor",value:function(t){if(t.right!==this._nil)return this._minimum(t.right);for(var e=t.parent;e!==this._nil&&t===e.right;)t=e,e=e.parent;return e}},{key:"_predecessor",value:function(t){if(t.left!==this._nil)return this._maximum(t.left);for(var e=t.parent;e!==this._nil&&t===e.left;)t=e,e=e.parent;return e}},{key:"range",value:function(t,e){"function"!=typeof t&&(t=i(this.comparator,t)),"function"!=typeof e&&(e=i(this.comparator,e));for(var r=this._root,n=this._nil,a=void 0;a=r===this._nil?0:t(r.value);)n=r,r=a<0?r.left:r.right;r===this._nil&&(r=n)!==this._nil&&t(r.value)>0&&(r=this._successor(r));for(var l=[];r!==this._nil&&e(r.value)>=0;)l.push(r.value),r=this._successor(r);return l}}]),t}();e.default=l}])});